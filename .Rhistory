table(classSurvey$"性別") %>%
{./sum(.)}
classSurvey$"性別" %>%
table() %>%
{./sum(.)} -> tbSex
tbSex
classSurvey$"性別" -> x
table(x)/sum(x)
classSurvey$"性別" -> x
x -> as.numeric(x)
classSurvey$"性別" -> x
x <- as.numeric(x)
table(classSurvey$"性別")
classSurvey$"性別" %>%
table() %>%
{./sum(.)} -> tbSex
tbSex
table(classSurvey$"性別")
class
classSurvey$"性別" %>%
table() %>%
{./sum(.)} -> tbSex
tbSex
sum(table(classSurvey$"性別"))
classSurvey$"性別" %>%
table() %>%
{./sum(.)} -> tbSex
tbSex
table(classSurvey$"性別"/sum(table(classSurvey$"性別"))
classSurvey$"性別" %>%
table(classSurvey$"性別"
sum(table(classSurvey$"性別"))
table(classSurvey$"性別"
sum(table(classSurvey$"性別"))
table(classSurvey$"性別")/sum(table(classSurvey$"性別"))
classSurvey$"性別" %>%
table() %>%
{./sum(.)} -> tbSex
tbSex
table(classSurvey$"性別")/sum(table(classSurvey$"性別"))
activity <- str_detect(classSurvey$"課外活動","團隊活動")
sum(activity)
classSurvey$isFemale <- classSurvey$"性別" == "女"
classSurvey[classSurvey$isFemale,]
rowSums(hwGrades[,2:4], na.rm = TRUE)
hwGrades$"平均成績" <- rowSums(hwGrades[,2:4], na.rm = TRUE)/3
hwGrades
x <- hwGrades$"學號" %in% classSurvey$"學號"
hwGrades[x,] -> hwGradeSubsample
subsample$課外活動 %>% #只選女性看她們的課外活動
str_detect("團隊活動") %>% #找出有團隊活動的
table(.)/sum(isFemale)->tbFemale
classSurvey[classSurvey$isFemale,] -> female #設定名稱
str_detect(female$"課外活動","團隊活動")
subsample$課外活動 %>% #只選女性看她們的課外活動
str_detect("團隊活動") %>% #找出有團隊活動的
table(.)/sum(isFemale)->tbFemale
classSurvey[classSurvey$isFemale,] -> female #設定名稱
table(str_detect(female$"課外活動","團隊活動"))
subsample$課外活動 %>% #只選女性看她們的課外活動
str_detect("團隊活動") %>% #找出有團隊活動的
table(.)/sum(isFemale)->tbFemale
classSurvey[classSurvey$isFemale,] -> female #設定名稱
str_detect(female$"課外活動","團隊活動") -> x
table(x)
subsample$課外活動 %>% #只選女性看她們的課外活動
str_detect("團隊活動") %>% #找出有團隊活動的
table(.)/sum(isFemale)->tbFemale
classSurvey[classSurvey$isFemale,] -> female #設定名稱
str_detect(female$"課外活動","團隊活動") -> x
table(x)/sum(female)
classSurvey[classSurvey$isFemale,] -> subsample
str_detect(subsample$"課外活動","團隊活動") -> x
table(x)/sum()
subsample$課外活動 %>% #只選女性看她們的課外活動
str_detect("團隊活動") %>% #找出有團隊活動的
table(.)/sum(isFemale)->tbFemale
str_detect(subsample$"課外活動","團隊活動") -> x
table(x)/sum(subsample)
str_detect(subsample$"課外活動","團隊活動") -> x
table(x)/sum(x)
subsample$課外活動 %>% #只選女性看她們的課外活動
str_detect("團隊活動") %>% #找出有團隊活動的
table(.)/sum(isFemale)->tbFemale
str_detect(subsample$"課外活動","團隊活動") -> x
table(x)
sum(x)
subsample$課外活動 %>% #只選女性看她們的課外活動
str_detect("團隊活動") %>% #找出有團隊活動的
table(.)/sum(isFemale)->tbFemale
str_detect(subsample$"課外活動","團隊活動") -> x
table(x)/sum(table(classSurvey$isFemale))
subsample$課外活動 %>% #只選女性看她們的課外活動
str_detect("團隊活動") %>% #找出有團隊活動的
table(.)/sum(isFemale)->tbFemale
str_detect(subsample$"課外活動","團隊活動") -> x
table(x)/sum(table(classSurvey$isFemale))
aaa <- c("a","b",NA)
is.na(aaa)
is.na(hwGrades[,2:4])
rowSums(is.na(hwGrades[,2:4]), na.rm = FALSE)
hwGrades %>%
select(c(2:4)) %>%
mutate_all(
funs(
!is.na(.)
)
) -> hwGrades2
hwGrades2 %>% rowSums() -> hwGrades$"交作業次數"
hwGrades
is.na(hwGrades[,2:4])
rowSums(is.na(hwGrades[,2:4]), na.rm = FALSE)
View(hwGrades)
!is.na(hwGrades[,2:4])
rowSums(!is.na(hwGrades[,2:4]), na.rm = FALSE)
!is.na(hwGrades[,2:4]) #加!讓原本True變False
rowSums(!is.na(hwGrades[,2:4]), na.rm = FALSE)
-> hwGrades$"交作業次數"
!is.na(hwGrades[,2:4]) #加!讓原本True變False
rowSums(!is.na(hwGrades[,2:4]), na.rm = FALSE) -> hwGrades$"交作業次數"
!is.na(hwGrades[,2:4]) #加!讓原本True變False
rowSums(!is.na(hwGrades[,2:4]), na.rm = FALSE) -> hwGrades$"交作業次數"
hwGrades
hwGrades %>%
select(c(2:4)) %>%
mutate_all(
funs(
!is.na(.)
)
) -> hwGrades2
hwGrades2 %>% rowSums() -> hwGrades$"交作業次數"
hwGrades
!is.na(hwGrades[,2:4]) #加!讓原本True變False
rowSums(!is.na(hwGrades[,2:4]), na.rm = FALSE) -> hwGrades$"交作業次數"
hwGrades
hwGradeSubsample$"女性" -> classSurvey$"性別" %in% "女"
hwGradeSubsample$"女性" -> classSurvey$"學號" %in% "女"
hwGradeSubsample$"女性" -> classSurvey$"學號" %in% 女
View(hwGradeSubsample)
hwGradeSubsample$"女性" -> hwGradeSubsample$"學號" %in% classSurvey$isFemale
hwGradeSubsample$"女性" -> hwGradeSubsample$"學號" %in% classSurvey$"學號"[isFemale]
hwGradeSubsample$"女性" -> hwGradeSubsample$"學號" %in% classSurvey$"學號"[isFemale]
hwGradeSubsample$"女性" <- hwGradeSubsample$"學號" %in% classSurvey$"學號"[isFemale]
hwGradeSubsample$"女性" <- hwGradeSubsample$"學號" %in% classSurvey$"學號"[isFemale]
hwGradeSubsample$"學號" %in% classSurvey$"學號"[isFemale]
hwGradeSubsample$"學號" %in% classSurvey$"學號"[isFemale,]
hwGradeSubsample$"學號" %in% classSurvey$"學號"=="女"
## ----ans17---------------------------------------------------------------
classSurvey$學號[isFemale] -> 女性學號
hwGradeSubsample$"學號" %in% classSurvey["學號","isFemale"]
## ----ans17---------------------------------------------------------------
classSurvey$學號[isFemale] -> 女性學號
classSurvey$isFemale <- classSurvey$"性別" == "女"
hwGradeSubsample$"學號" %in% classSurvey$"學號"[,isFemale]
hwGradeSubsample$"學號" %in% classSurvey$"學號"[isFemale,]
classSurvey$學號[isFemale] -> 女性學號
classSurvey %>%
{cbind(.$"學號", (.$"性別" == "女"))}
classSurvey$"學號"[(classSurvey$"性別" == "女")] -> 女性學號
hwGradeSubsample$"女性" <- hwGradeSubsample$"學號" %in%  女性學號
library(readr); library(dplyr); library(stringr); library(lubridate)
library(readr)
classSurvey <- read_csv("https://raw.githubusercontent.com/tpemartin/github-data/master/classSurvey.csv")
hwGrades <- read_csv("https://raw.githubusercontent.com/tpemartin/github-data/master/hwGrades.csv")
classSurvey$"性別" <- as.factor(classSurvey$"性別")
str_sub(hwGrades$"學號",2,4)
經一B學生 <- c("小花","小咪","小李")
飲料店工讀生 <- c("陳小明","小李")
飲料店工讀生 %in% 經一B學生
hwGrades$"學號" %in% classSurvey$"學號"
str_which("4104d245c7",classSurvey$"學號")
str_which("4104d245c7",hwGrades$"學號")
hwGrades[39,"Exercise3"]
table(classSurvey$"性別")/sum(table(classSurvey$"性別"))
activity <- str_detect(classSurvey$"課外活動","團隊活動")
sum(activity)
classSurvey$isFemale <- classSurvey$"性別" == "女"
classSurvey[classSurvey$isFemale,] -> subsample
str_detect(subsample$"課外活動","團隊活動") -> x
table(x)/sum(table(classSurvey$isFemale))
aaa <- c("a","b",NA)
is.na(aaa)
!is.na(hwGrades[,2:4]) #加!讓原本True變False
rowSums(!is.na(hwGrades[,2:4]), na.rm = FALSE) -> hwGrades$"交作業次數"
hwGrades
rowSums(hwGrades[,2:4], na.rm = TRUE)
hwGrades$"平均成績" <- rowSums(hwGrades[,2:4], na.rm = TRUE)/3
hwGrades
x <- hwGrades$"學號" %in% classSurvey$"學號"
hwGrades[x,] -> hwGradeSubsample
hwGradeSubsample$"學號" %in% classSurvey$"學號"[subsample]
hwGradeSubsample$"學號" %in% classSurvey$"學號"[isFemale]
classSurvey$"學號"[isFemale] -> 女性學號
classSurvey$"學號"[subsample] -> 女性學號
classSurvey$"學號"["性別"=="女" -> 女性學號
hwGradeSubsample$"學號" %in% classSurvey$"學號"[isFemale]
classSurvey$"學號"[,"性別"=="女"]
classSurvey %>%
{cbind(.$"學號", (.$"性別" == "女"))}
classSurvey$"學號"[(classSurvey$"性別" == "女")] -> 女性學號
hwGradeSubsample$"女性" <- hwGradeSubsample$"學號" %in%  女性學號
## ----ans17---------------------------------------------------------------
classSurvey$學號[isFemale] -> 女性學號
classSurvey %>%
{cbind(.$"學號", (.$"性別" == "女"))}
#cbind = combine rows and columns
classSurvey$"學號"[(classSurvey$"性別" == "女")] -> 女性學號
hwGradeSubsample$"女性" <- hwGradeSubsample$"學號" %in%  女性學號
mean(hwGradeSubsample[(hwGradeSubsample$"女性"==FALSE),]$"平均成績")
#hwGradeSubsample[(hwGradeSubsample$"女性"==FALSE),]$"平均成績"
mean(hwGradeSubsample$"平均成績"[(hwGradeSubsample$"女性"==FALSE)])
#hwGradeSubsample$女性==FALSE
## ----ans18---------------------------------------------------------------
hwGradesSubsample$平均成績[(hwGradesSubsample$女性==F)] %>%
mean
mean(hwGradeSubsample$"平均成績"[(hwGradeSubsample$"女性"==FALSE)])
#hwGradeSubsample$"女性"==FALSE
classSurvey$"學號"[課外活動]
classSurvey$"學號"[,"課外活動"=="團體活動"]
classSurvey$"學號"[,classSurvey$"課外活動"=="團體活動"]
classSurvey$"學號"[classSurvey$"課外活動"=="團體活動"]
## ----ans19---------------------------------------------------------------
classSurvey$學號[hasGroupActivity] -> 有團隊的學號
classSurvey$"學號"[classSurvey$"課外活動"=="團體活動"] -> 有參與的學號
## ----ans19---------------------------------------------------------------
classSurvey$學號[hasGroupActivity] -> 有團隊的學號
classSurvey$"學號"[(classSurvey$"課外活動"=="團體活動")] -> 有參與的學號
## ----ans19---------------------------------------------------------------
classSurvey$學號[hasGroupActivity] -> 有團隊的學號
classSurvey$"學號"
## ----ans19---------------------------------------------------------------
classSurvey$學號[hasGroupActivity] -> 有團隊的學號
classSurvey$isFemale["團隊活動"]
## ----ans19---------------------------------------------------------------
classSurvey$學號[hasGroupActivity] -> 有團隊的學號
classSurvey$isFemale["團隊活動"]
## ----ans19---------------------------------------------------------------
classSurvey$學號[hasGroupActivity] -> 有團隊的學號
library(readr); library(dplyr); library(stringr); library(lubridate)
library(readr)
classSurvey <- read_csv("https://raw.githubusercontent.com/tpemartin/github-data/master/classSurvey.csv")
hwGrades <- read_csv("https://raw.githubusercontent.com/tpemartin/github-data/master/hwGrades.csv")
classSurvey$"性別" <- as.factor(classSurvey$"性別")
str_sub(hwGrades$"學號",2,4)
經一B學生 <- c("小花","小咪","小李")
飲料店工讀生 <- c("陳小明","小李")
飲料店工讀生 %in% 經一B學生
hwGrades$"學號" %in% classSurvey$"學號"
str_which("4104d245c7",classSurvey$"學號")
str_which("4104d245c7",hwGrades$"學號")
hwGrades[39,"Exercise3"]
table(classSurvey$"性別")/sum(table(classSurvey$"性別"))
activity <- str_detect(classSurvey$"課外活動","團隊活動")
sum(activity)
classSurvey$isFemale <- classSurvey$"性別" == "女"
classSurvey[classSurvey$isFemale,] -> subsample
str_detect(subsample$"課外活動","團隊活動") -> x
table(x)/sum(table(classSurvey$isFemale))
aaa <- c("a","b",NA)
is.na(aaa)
!is.na(hwGrades[,2:4]) #加!讓原本True變False
rowSums(!is.na(hwGrades[,2:4]), na.rm = FALSE) -> hwGrades$"交作業次數"
hwGrades
rowSums(hwGrades[,2:4], na.rm = TRUE)
hwGrades$"平均成績" <- rowSums(hwGrades[,2:4], na.rm = TRUE)/3
hwGrades
x <- hwGrades$"學號" %in% classSurvey$"學號"
hwGrades[x,] -> hwGradeSubsample
classSurvey %>%
{cbind(.$"學號", (.$"性別" == "女"))}
#cbind = combine rows and columns
classSurvey$"學號"[(classSurvey$"性別" == "女")] -> 女性學號
hwGradeSubsample$"女性" <- hwGradeSubsample$"學號" %in%  女性學號
mean(hwGradeSubsample$"平均成績"[(hwGradeSubsample$"女性"==FALSE)])
#hwGradeSubsample$"女性"==FALSE
library(readr); library(dplyr); library(stringr); library(lubridate)
classSurvey$"性別" <- as.factor(classSurvey$"性別")
library(readr)
classSurvey <- read_csv("https://raw.githubusercontent.com/tpemartin/github-data/master/classSurvey.csv")
hwGrades <- read_csv("https://raw.githubusercontent.com/tpemartin/github-data/master/hwGrades.csv")
library(readr); library(dplyr); library(stringr); library(lubridate)
classSurvey$"性別" <- as.factor(classSurvey$"性別")
str_sub(hwGrades$"學號",2,4)
經一B學生 <- c("小花","小咪","小李")
飲料店工讀生 <- c("陳小明","小李")
飲料店工讀生 %in% 經一B學生
hwGrades$"學號" %in% classSurvey$"學號"
str_which("4104d245c7",classSurvey$"學號")
str_which("4104d245c7",hwGrades$"學號")
hwGrades[39,"Exercise3"]
table(classSurvey$"性別")/sum(table(classSurvey$"性別"))
activity <- str_detect(classSurvey$"課外活動","團隊活動")
sum(activity)
classSurvey$isFemale <- classSurvey$"性別" == "女"
classSurvey[classSurvey$isFemale,] -> subsample
str_detect(subsample$"課外活動","團隊活動") -> x
table(x)/sum(table(classSurvey$isFemale))
aaa <- c("a","b",NA)
is.na(aaa)
rowSums(hwGrades[,2:4], na.rm = TRUE)
hwGrades$"平均成績" <- rowSums(hwGrades[,2:4], na.rm = TRUE)/3
hwGrades
x <- hwGrades$"學號" %in% classSurvey$"學號"
hwGrades[x,] -> hwGradeSubsample
classSurvey %>%
{cbind(.$"學號", (.$"性別" == "女"))}
#cbind = combine rows and columns
classSurvey$"學號"[(classSurvey$"性別" == "女")] -> 女性學號
hwGradeSubsample$"女性" <- hwGradeSubsample$"學號" %in%  女性學號
mean(hwGradeSubsample$"平均成績"[(hwGradeSubsample$"女性"==FALSE)])
#hwGradeSubsample$"女性"==FALSE
classSurvey$"學號"
## ----ans19---------------------------------------------------------------
classSurvey$學號[hasGroupActivity] -> 有團隊的學號
classSurvey$"學號"[(classSurvey$"課外活動"=="團隊活動")]
## ----ans19---------------------------------------------------------------
classSurvey$學號[hasGroupActivity] -> 有團隊的學號
classSurvey$"學號"[(classSurvey$"課外活動"=="團隊活動")] -> 有參與團隊活動的學號
hwGradeSubsample$"有參與團隊活動" <- hwGradeSubsample$"學號" %in% 有參與團隊活動的學號
mean(hwGradeSubsample$"平均成績"[hwGradeSubsample$"女性"==TRUE & hwGradeSubsample$"有參與團隊活動"==TRUE])
## ----ans19---------------------------------------------------------------
classSurvey$學號[hasGroupActivity] -> 有團隊的學號
classSurvey$"學號"[(classSurvey$"課外活動"=="團隊活動")] -> 有參與團隊活動的學號
hwGradeSubsample$"有參與團隊活動" <- hwGradeSubsample$"學號" %in% 有參與團隊活動的學號
mean(hwGradeSubsample$"平均成績"[hwGradeSubsample$"女性"==TRUE & hwGradeSubsample$"有參與團隊活動"==TRUE])
classSurvey$"學號"[(classSurvey$"課外活動"=="團隊活動")] -> 有參與團隊活動的學號
hwGradeSubsample$"有參與團隊活動" <- hwGradeSubsample$"學號" %in% 有參與團隊活動的學號
mean(hwGradeSubsample$"平均成績"[hwGradeSubsample$"女性"==TRUE & hwGradeSubsample$"有參與團隊活動"==TRUE])
hwSubmit <- read_csv("https://raw.githubusercontent.com/tpemartin/github-data/master/hwSubmit.csv")
library(readr); library(dplyr); library(stringr); library(lubridate)
library(readr)
classSurvey <- read_csv("https://raw.githubusercontent.com/tpemartin/github-data/master/classSurvey.csv")
hwGrades <- read_csv("https://raw.githubusercontent.com/tpemartin/github-data/master/hwGrades.csv")
classSurvey$"性別" <- as.factor(classSurvey$"性別")
str_sub(hwGrades$"學號",2,4)
經一B學生 <- c("小花","小咪","小李")
飲料店工讀生 <- c("陳小明","小李")
飲料店工讀生 %in% 經一B學生
hwGrades$"學號" %in% classSurvey$"學號"
str_which("4104d245c7",hwGrades$"學號")
hwGrades[39,"Exercise3"]
table(classSurvey$"性別")/sum(table(classSurvey$"性別"))
table(classSurvey$"性別")/sum(table(classSurvey$"性別"))
activity <- str_detect(classSurvey$"課外活動","團隊活動")
sum(activity)
classSurvey$isFemale <- classSurvey$"性別" == "女"
classSurvey[classSurvey$isFemale,] -> subsample
str_detect(subsample$"課外活動","團隊活動") -> x
table(x)/sum(table(classSurvey$isFemale))
aaa <- c("a","b",NA)
is.na(aaa)
!is.na(hwGrades[,2:4]) #加!讓原本True變False
rowSums(!is.na(hwGrades[,2:4]), na.rm = FALSE) -> hwGrades$"交作業次數"
hwGrades
rowSums(hwGrades[,2:4], na.rm = TRUE)
hwGrades$"平均成績" <- rowSums(hwGrades[,2:4], na.rm = TRUE)/3
hwGrades
x <- hwGrades$"學號" %in% classSurvey$"學號"
hwGrades[x,] -> hwGradeSubsample
classSurvey %>%
{cbind(.$"學號", (.$"性別" == "女"))}
#cbind = combine rows and columns
classSurvey$"學號"[(classSurvey$"性別" == "女")] -> 女性學號
hwGradeSubsample$"女性" <- hwGradeSubsample$"學號" %in%  女性學號
mean(hwGradeSubsample$"平均成績"[(hwGradeSubsample$"女性"==FALSE)])
#hwGradeSubsample$"女性"==FALSE
classSurvey$"學號"[(classSurvey$"課外活動"=="團隊活動")] -> 有參與團隊活動的學號
hwGradeSubsample$"有參與團隊活動" <- hwGradeSubsample$"學號" %in% 有參與團隊活動的學號
mean(hwGradeSubsample$"平均成績"[hwGradeSubsample$"女性"==TRUE & hwGradeSubsample$"有參與團隊活動"==TRUE])
hwSubmit <- read_csv("https://raw.githubusercontent.com/tpemartin/github-data/master/hwSubmit.csv")
hwSubmit %>%
mutate(
Timestamp = ymd_hms(Timestamp),
Timestamp = with_tz(Timestamp,tz="Asia/Taipei"),
"學號" = as.character(學號)
) -> hwSubmit
hwSubmit %>%
mutate(
Timestamp = ymd_hms(Timestamp),
Timestamp = with_tz(Timestamp,tz="Asia/Taipei"),
"學號" = as.character(學號)
) -> hwSubmit
hwSubmit
hwSubmit %>%
mutate(
Timestamp = ymd_hms(Timestamp),
Timestamp = with_tz(Timestamp,tz="Asia/Taipei"),
"學號" = as.character("學號")
) -> hwSubmit
hwSubmit
View(hwSubmit)
hwSubmit <- read_csv("https://raw.githubusercontent.com/tpemartin/github-data/master/hwSubmit.csv")
hwSubmit %>%
mutate(
Timestamp = ymd_hms(Timestamp),
Timestamp = with_tz(Timestamp,tz="Asia/Taipei"),
"學號" = as.character(學號)
) -> hwSubmit
hwSubmit
hwSubmit3 <- hwSubmit[hwSubmit$"作業代碼" == "Exercise3"]
hwSubmit3 <- hwSubmit[hwSubmit$"作業代碼" == "Exercise3",]
deadline3 <- ymd_hms("2018-11-06 00:00:00",tz="Asia/Taipei")
hwSubmit3 <- hwSubmit[hwSubmit$作業代碼=="Exercise3",]
hwSubmit3 %>%
mutate(
截止時差=difftime(deadline3,Timestamp,units="hours")
) ->
hwSubmit3
hwSubmit3 <- hwSubmit[hwSubmit$"作業代碼" == "Exercise3",]
deadline <- ymd_hms("2018-11-06 00:00:00",tz="Asia/Taipei")
hwSubmit3$"截止時差" <- difftime(deadline, Timestamp, units = "hours")
hwSubmit %>%
mutate(
Timestamp = ymd_hms(Timestamp),
Timestamp = with_tz(Timestamp,tz="Asia/Taipei"),
"學號" = as.character(學號)
) -> hwSubmit
hwSubmit
hwSubmit3 <- hwSubmit[hwSubmit$"作業代碼" == "Exercise3",]
deadline <- ymd_hms("2018-11-06 00:00:00",tz="Asia/Taipei")
hwSubmit3$"截止時差" <- difftime(deadline, Timestamp, units = "hours")
hwSubmit3 <- hwSubmit[hwSubmit$"作業代碼" == "Exercise3",]
deadline <- ymd_hms("2018-11-06 00:00:00",tz="Asia/Taipei")
hwSubmit3$"截止時差" <- difftime(deadline, hwSubmit3$Timestamp, units = "hours")
hwSubmit3
mean(hwSubmit3$"截止時差"[hwSubmit3$"女性"==T]) -> Female
mean(hwSubmit3$"截止時差"[hwSubmit3$"女性"==F]) -> Male
Female-Male -> time
mean(hwSubmit3$"截止時差"[hwSubmit3$"女性"==T]) -> Female
mean(hwSubmit3$"截止時差"[hwSubmit3$"女性"==F]) -> Male
Female-Male -> time
time
mean(hwSubmit3$"截止時差"[hwSubmit3$"女性"==T]) -> Female
mean(hwSubmit3$"截止時差"[hwSubmit3$"女性"==F]) -> Male
Female-Male -> time
mean(hwSubmit3$"截止時差"[hwSubmit3$"女性"==T]) -> Female
mean(hwSubmit3$"截止時差"[hwSubmit3$"女性"==F]) -> Male
Female-Male -> time
time
mean(hwSubmit3$"截止時差"[hwSubmit3$"女性"==T]) -> Female
mean(hwSubmit3$"截止時差"[hwSubmit3$"女性"==F]) -> Male
Female-Male -> time1
time1
mean(hwSubmit3$"截止時差"[hwSubmit3$"女性"==T]) -> Female
mean(hwSubmit3$"截止時差"[hwSubmit3$"女性"==F]) -> Male
Female-Male -> time
time
## ----ans23---------------------------------------------------------------
hwSubmit3$截止時差[hwSubmit3$女性==T] %>% mean -> FemaleTime
hwSubmit3$截止時差[hwSubmit3$女性==F] %>% mean -> MaleTime
FemaleTime-MaleTime -> dftime1
dftime1
mean(hwSubmit3$"截止時差"[hwSubmit3$"女性"==T]) -> Female
mean(hwSubmit3$"截止時差"[hwSubmit3$"女性"==F]) -> Male
Female-Male -> time
time
library(readr); library(dplyr); library(stringr); library(lubridate)
library(readr)
classSurvey <- read_csv("https://raw.githubusercontent.com/tpemartin/github-data/master/classSurvey.csv")
hwGrades <- read_csv("https://raw.githubusercontent.com/tpemartin/github-data/master/hwGrades.csv")
classSurvey$"性別" <- as.factor(classSurvey$"性別")
str_sub(hwGrades$"學號",2,4)
經一B學生 <- c("小花","小咪","小李")
飲料店工讀生 <- c("陳小明","小李")
飲料店工讀生 %in% 經一B學生
hwGrades$"學號" %in% classSurvey$"學號"
str_which("4104d245c7",classSurvey$"學號")
str_which("4104d245c7",hwGrades$"學號")
hwGrades[39,"Exercise3"]
table(classSurvey$"性別")/sum(table(classSurvey$"性別"))
activity <- str_detect(classSurvey$"課外活動","團隊活動")
sum(activity)
classSurvey$isFemale <- classSurvey$"性別" == "女"
classSurvey[classSurvey$isFemale,] -> subsample
str_detect(subsample$"課外活動","團隊活動") -> x
table(x)/sum(table(classSurvey$isFemale))
aaa <- c("a","b",NA)
is.na(aaa)
!is.na(hwGrades[,2:4]) #加!讓原本True變False
rowSums(!is.na(hwGrades[,2:4]), na.rm = FALSE) -> hwGrades$"交作業次數"
hwGrades
rowSums(hwGrades[,2:4], na.rm = TRUE)
hwGrades$"平均成績" <- rowSums(hwGrades[,2:4], na.rm = TRUE)/3
hwGrades
x <- hwGrades$"學號" %in% classSurvey$"學號"
hwGrades[x,] -> hwGradeSubsample
classSurvey %>%
{cbind(.$"學號", (.$"性別" == "女"))}
#cbind = combine rows and columns
classSurvey$"學號"[(classSurvey$"性別" == "女")] -> 女性學號
hwGradeSubsample$"女性" <- hwGradeSubsample$"學號" %in%  女性學號
mean(hwGradeSubsample$"平均成績"[(hwGradeSubsample$"女性"==FALSE)])
#hwGradeSubsample$"女性"==FALSE
classSurvey$"學號"[(classSurvey$"課外活動"=="團隊活動")] -> 有參與團隊活動的學號
hwGradeSubsample$"有參與團隊活動" <- hwGradeSubsample$"學號" %in% 有參與團隊活動的學號
mean(hwGradeSubsample$"平均成績"[hwGradeSubsample$"女性"==TRUE & hwGradeSubsample$"有參與團隊活動"==TRUE])
hwSubmit <- read_csv("https://raw.githubusercontent.com/tpemartin/github-data/master/hwSubmit.csv")
hwSubmit %>%
mutate(
Timestamp = ymd_hms(Timestamp),
Timestamp = with_tz(Timestamp,tz="Asia/Taipei"),
"學號" = as.character(學號)
) -> hwSubmit
hwSubmit
hwSubmit3 <- hwSubmit[hwSubmit$"作業代碼" == "Exercise3",]
deadline <- ymd_hms("2018-11-06 00:00:00",tz="Asia/Taipei")
hwSubmit3$"截止時差" <- difftime(deadline, hwSubmit3$Timestamp, units = "hours")
hwSubmit3
mean(hwSubmit3$"截止時差"[hwSubmit3$"女性"==T]) -> Female
mean(hwSubmit3$"截止時差"[hwSubmit3$"女性"==F]) -> Male
Female-Male -> time
time
